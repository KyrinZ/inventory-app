(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{113:function(e,t,n){e.exports={search:"Search_search__aAVrH"}},116:function(e,t,n){e.exports={menuItem:"MenuItem_menuItem__3hCcl"}},15:function(e,t,n){e.exports={formContainer:"AddProductForm_formContainer__2bZRq",form:"AddProductForm_form__2Gw3C",heading:"AddProductForm_heading__AnZJF",close:"AddProductForm_close__1TlqH",formGroup:"AddProductForm_formGroup__3gGK5",errorMsg:"AddProductForm_errorMsg__n4qBt"}},25:function(e,t,n){e.exports={pageContainer:"AuthenticationPage_pageContainer__OXcgN",formSide:"AuthenticationPage_formSide__2ql1t",formInner:"AuthenticationPage_formInner__12OdA",imageSide:"AuthenticationPage_imageSide__2gPPf",illustration:"AuthenticationPage_illustration__k5hah",text:"AuthenticationPage_text__3apbx"}},268:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),s=n(63),o=n.n(s),i=n(12),d=n.n(i),u=n(23),l=n(5),j=n(2),h=n(14),m=n(33),b=n(15),p=n.n(b),O=n(11),x=O.b().shape({username:O.d().required(),password:O.d().required()}),v=O.b().shape({username:O.d().required(),password:O.d().required().min(8).max(16),confirmation:O.d().oneOf([O.c("password"),null],"Passwords must match").required()}),g=O.b().shape({productId:O.d().required(),productName:O.d().required(),quantity:O.a().required()}),f=n(112),_=n.n(f).a.create({baseURL:"http://localhost:5000/",responseType:"json"}),y=n(64),I=(n(248),function(e){console.log(e);var t=new y.default,n=[];e.forEach((function(e){var t=[e.productId,e.productName,e.quantity,e.createdAt,e.updatedAt];n.push(t)})),t.autoTable(["Product Id","Product Name","Quantity","Added on","Last Updated"],n,{startY:20});var r=Date().split(" "),a=r[0]+r[1]+r[2]+r[3]+r[4];t.text("All the products in the inventory",14,15),t.save("report_".concat(a,".pdf"))});function N(e){var t=e.setIsAddFormOpen,n=e.loadProducts,a=Object(m.a)({initialValues:{productId:"",productName:"",quantity:""},validationSchema:g,onSubmit:function(e){var r=e.productId,a=e.productName,c=e.quantity;_.post("product/add/",{productId:r,productName:a,quantity:c}).then((function(e){t(!1),n()})).catch((function(e){return console.log(e)}))}});return Object(r.jsx)("div",{onClick:function(e){t(!1)},className:p.a.formContainer,children:Object(r.jsxs)("form",{onClick:function(e){e.stopPropagation()},className:p.a.form,onSubmit:a.handleSubmit,children:[Object(r.jsxs)("div",{className:p.a.heading,children:[Object(r.jsx)("h1",{children:"Add Item"}),Object(r.jsx)("p",{className:p.a.close,onClick:function(e){t(!1)},children:"close"})]}),Object(r.jsxs)("div",{className:p.a.formGroup,children:[Object(r.jsx)("label",{htmlFor:"productId",children:"Id"}),Object(r.jsx)("input",{onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.productId,name:"productId",type:"text"}),a.touched.productId&&a.errors.productId?Object(r.jsx)("div",{className:p.a.errorMsg,children:a.errors.productId}):null]}),Object(r.jsxs)("div",{className:p.a.formGroup,children:[Object(r.jsx)("label",{htmlFor:"productName",children:"Name"}),Object(r.jsx)("input",{onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.productName,name:"productName",type:"text"}),a.touched.productName&&a.errors.productName?Object(r.jsx)("div",{className:p.a.errorMsg,children:a.errors.productName}):null]}),Object(r.jsxs)("div",{className:p.a.formGroup,children:[Object(r.jsx)("label",{htmlFor:"quantity",children:"Quantity"}),Object(r.jsx)("input",{onChange:a.handleChange,onBlur:a.handleBlur,value:a.values.quantity,name:"quantity",type:"number"}),a.touched.quantity&&a.errors.quantity?Object(r.jsx)("div",{className:p.a.errorMsg,children:a.errors.quantity}):null]}),Object(r.jsx)("button",{type:"submit",children:"Add Item"})]})})}var C=n(29),S=n.n(C);function w(e){var t=e._id,n=e.productNumber,c=e.productId,s=e.productName,o=(e.dateAdded,e.quantity),i=void 0===o?0:o,d=e.loadProducts,u=Object(a.useState)(i),j=Object(l.a)(u,2),h=j[0],m=j[1],b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_.put("product/update/".concat(t,"/"),{productId:c,productName:s,quantity:h+e}).then((function(){m(h+e)})).catch((function(e){return console.log(e)}))};return Object(r.jsxs)("tr",{className:S.a.productContianer,children:[Object(r.jsx)("td",{className:S.a.serialNumber,children:n}),Object(r.jsx)("td",{children:c}),Object(r.jsx)("td",{children:s}),Object(r.jsx)("td",{children:Object(r.jsxs)("div",{className:S.a.quantity,children:[Object(r.jsx)("button",{onClick:function(){b(1)},className:S.a.add,children:"+"}),Object(r.jsx)("p",{children:h}),Object(r.jsx)("button",{className:S.a.subtract,onClick:function(){b(-1)},children:"-"}),Object(r.jsx)("button",{className:S.a.delete,onClick:function(){_.delete("product/delete/".concat(t,"/")).then((function(){d()})).catch((function(e){return console.log(e)}))},children:"Delete"})]})})]})}var A=n(113),k=n.n(A);function P(e){var t=e.loadProducts,n=Object(a.useState)(""),c=Object(l.a)(n,2),s=c[0],o=c[1],i=function(){var e=Object(u.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o((function(e){return t(n.target.value),n.target.value}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:k.a.search,children:Object(r.jsx)("input",{onChange:i,defaultValue:s,type:"text",placeholder:"Search Item..."})})}var q=n(50);var F=function(e){var t=e.items,n=Object(q.a)(e,["items"]);return Object(r.jsx)("button",Object(h.a)(Object(h.a)({},n),{},{onClick:function(){I(t)},children:"Download Report"}))},M=n(30),B=n.n(M);function U(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({isItemsArrived:!1,items:[]}),o=Object(l.a)(s,2),i=o[0],j=o[1],m=Object(a.useContext)(le).userData,b=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.prev=1,e.next=4,_.get("product/?search=".concat(t));case 4:n=e.sent,j({isItemsArrived:!0,items:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j({isItemsArrived:!0,items:[]});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(r.jsxs)("div",{className:B.a.container,children:[n?Object(r.jsx)(N,{loadProducts:b,setIsAddFormOpen:c}):null,Object(r.jsxs)("div",{className:B.a.headingContainer,children:[Object(r.jsx)("div",{children:Object(r.jsxs)("h1",{children:[m.username,"'s inventory"]})}),Object(r.jsx)(P,{loadProducts:b})]}),Object(r.jsxs)("div",{className:B.a.buttons,children:[Object(r.jsx)("button",{onClick:function(){return c(!0)},children:"Add Item"}),Object(r.jsx)(F,{items:i.items})]}),Object(r.jsx)("div",{className:B.a.outerTable,children:Object(r.jsxs)("table",{className:B.a.productsContainer,children:[Object(r.jsx)("thead",{className:B.a.productsHeading,children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:Object(r.jsx)("p",{children:"No."})}),Object(r.jsx)("th",{children:Object(r.jsx)("p",{children:"Product id"})}),Object(r.jsx)("th",{children:Object(r.jsx)("p",{children:"Product name"})}),Object(r.jsx)("th",{children:Object(r.jsx)("p",{children:"Quantity"})})]})}),Object(r.jsx)("tbody",{children:i.isItemsArrived?i.items.length>0?i.items.map((function(e,t){return Object(r.jsx)(w,Object(h.a)({productNumber:t+1,loadProducts:b},e),t)})):Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:"No items added"})}):Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:"Loading"})})})]})})]})}var H=n(66),G=n.n(H),L=n.p+"static/media/history-icon.5b8870da.svg";function T(e){var t=e.children;return Object(r.jsxs)("div",{className:G.a.historyItemContainer,children:[Object(r.jsx)("div",{className:G.a.icon,children:Object(r.jsx)("img",{src:L,alt:"HistoryIcon"})}),Object(r.jsx)("p",{children:t})]})}var D=n(52),V=n.n(D);function Q(){var e=Object(a.useState)({isItemsArrived:!1,items:[]}),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useContext)(le).userData,o=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("history/");case 3:t=e.sent,c({isItemsArrived:!0,items:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({isItemsArrived:!0,items:[]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o()}),[]),Object(r.jsxs)("div",{className:V.a.historyContainer,children:[Object(r.jsx)("div",{className:V.a.heading,children:Object(r.jsxs)("h1",{children:[s.username,"'s histories"]})}),Object(r.jsx)("div",{className:V.a.histories,children:n.isItemsArrived?n.items.length>0?n.items.map((function(e,t){return Object(r.jsxs)(T,{children:[e.productName," was ",e.updateType," on ",e.date]},t)})):Object(r.jsx)("p",{children:"No activities occurred"}):Object(r.jsx)("p",{children:"Loading"})})]})}var E=function(e){var t=e.component,n=Object(q.a)(e,["component"]),c=Object(j.h)();return Object(a.useContext)(le).userData.isUserLoggedIn?Object(r.jsx)(j.b,Object(h.a)(Object(h.a)({},n),{},{children:t})):Object(r.jsx)(j.a,{to:{pathname:"/auth",state:{from:c}}})},W=n(6),Z=n.n(W);function R(e){var t=e.changeFormType,n=Object(a.useContext)(le),c=Object(m.a)({initialValues:{username:"",password:""},validationSchema:x,onSubmit:function(e){var t=e.username,r=e.password;_.post("user/signin/",{username:t,password:r}).then((function(e){localStorage.setItem("auth-token",e.data.token),n.authenticateUser()})).catch((function(e){console.log(e)}))}});return Object(r.jsxs)("form",{className:Z.a.form,onSubmit:c.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Sign in"})}),Object(r.jsxs)("div",{className:Z.a.formGroup,children:[Object(r.jsx)("label",{htmlFor:"username",children:"Username"}),Object(r.jsx)("input",{onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.username,name:"username",type:"text"}),c.touched.username&&c.errors.username?Object(r.jsx)("div",{className:Z.a.errorMsg,children:c.errors.username}):null]}),Object(r.jsxs)("div",{className:Z.a.formGroup,children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.password,name:"password",type:"password"}),c.touched.password&&c.errors.password?Object(r.jsx)("div",{className:Z.a.errorMsg,children:c.errors.password}):null]}),Object(r.jsx)("button",{type:"submit",children:"Sign in"}),Object(r.jsxs)("p",{children:["Don't have an account? ",Object(r.jsx)("strong",{onClick:function(){t("signUp")},children:"Sign up"})]})]})}function z(e){var t=e.changeFormType,n=(e.logIn,Object(a.useContext)(le)),c=Object(m.a)({initialValues:{username:"",password:"",confirmation:""},validationSchema:v,onSubmit:function(e){var t=e.username,r=e.password;_.post("user/signup/",{username:t,password:r}).then((function(e){localStorage.setItem("auth-token",e.data.token),n.authenticateUser()})).catch((function(e){console.log(e)}))}});return Object(r.jsxs)("form",{className:Z.a.form,onSubmit:c.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Sign up"})}),Object(r.jsxs)("div",{className:Z.a.formGroup,children:[Object(r.jsx)("label",{htmlFor:"username",children:"Username"}),Object(r.jsx)("input",{onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.username,name:"username",type:"text"}),c.touched.username&&c.errors.username?Object(r.jsx)("div",{className:Z.a.errorMsg,children:c.errors.username}):null]}),Object(r.jsxs)("div",{className:Z.a.formGroup,children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.password,name:"password",type:"password"}),c.touched.password&&c.errors.password?Object(r.jsx)("div",{className:Z.a.errorMsg,children:c.errors.password}):null]}),Object(r.jsxs)("div",{className:Z.a.formGroup,children:[Object(r.jsx)("label",{htmlFor:"confirmation",children:"Confirm Password"}),Object(r.jsx)("input",{onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.confirmation,name:"confirmation",type:"password"}),c.touched.confirmation&&c.errors.confirmation?Object(r.jsx)("div",{className:Z.a.errorMsg,children:c.errors.confirmation}):null]}),Object(r.jsx)("button",{type:"submit",children:"Sign up"}),Object(r.jsxs)("p",{children:["Already have an account?"," ",Object(r.jsx)("strong",{onClick:function(){t("signIn")},children:"Sign in"})]})]})}var J=n(25),X=n.n(J),K=n.p+"static/media/inventory-icon.d2b25e4f.svg",Y=n.p+"static/media/logout-icon.61606a71.svg",$=n.p+"static/media/illustration-box.a0689ef1.svg",ee=n.p+"static/media/logo.6c826f2c.svg";function te(e){e.logIn;var t=Object(a.useState)("signUp"),n=Object(l.a)(t,2),c=n[0],s=n[1],o=function(e){s(e)},i=Object(a.useContext)(le);return Object(r.jsxs)("div",{className:X.a.pageContainer,children:[Object(r.jsx)("div",{className:X.a.formSide,children:Object(r.jsxs)("div",{className:X.a.formInner,children:[Object(r.jsx)("div",{className:X.a.logo,children:Object(r.jsx)("img",{src:ee,alt:"Logo"})}),"signIn"===c?Object(r.jsx)(R,{logIn:i.logIn,changeFormType:o}):"signUp"===c?Object(r.jsx)(z,{logIn:i.logIn,changeFormType:o}):null]})}),Object(r.jsxs)("div",{className:X.a.imageSide,children:[Object(r.jsx)("div",{className:X.a.illustration,children:Object(r.jsx)("img",{src:$,alt:"illustrationBox"})}),Object(r.jsxs)("div",{className:X.a.text,children:[Object(r.jsx)("h1",{children:"Manage your inventory"}),Object(r.jsx)("h2",{children:"Simple way to ease your life by organizing all your items and keep tabs of their quantity"})]})]})]})}var ne=function(e){var t=Object.assign({},e),n=Object(j.h)(),c=Object(a.useContext)(le),s=(n.state||{from:{pathname:"/inventory"}}).from;return c.userData.isUserLoggedIn?Object(r.jsx)(j.a,{to:s}):Object(r.jsx)(j.b,Object(h.a)(Object(h.a)({},t),{},{children:Object(r.jsx)(te,{})}))},re=n(114),ae=n(115),ce=(n(268),n(116)),se=n.n(ce);function oe(e){var t=e.children,n=e.image,a=e.alt,c=e.path,s=void 0===c?"/":c,o=Object(j.g)();return Object(r.jsxs)("div",{onClick:function(){o.push(s)},className:se.a.menuItem,children:[Object(r.jsx)("img",{src:n,alt:a}),Object(r.jsx)("p",{children:t})]})}var ie=n(39),de=n.n(ie);function ue(){var e=Object(a.useContext)(le),t=Object(re.useMediaQuery)({maxWidth:800}),n=function(){localStorage.removeItem("auth-token"),e.authenticateUser()};return Object(r.jsx)(r.Fragment,{children:t?Object(r.jsx)("div",{className:de.a.burgerContainer,children:Object(r.jsx)(ae.slide,{children:Object(r.jsxs)("div",{className:"menus",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(oe,{path:"/inventory",image:K,alt:"inventoryIcon",children:"Inventory"}),Object(r.jsx)(oe,{path:"/history",image:L,alt:"historyIcon",children:"History"})]}),Object(r.jsxs)("div",{onClick:function(){n()},className:de.a.logout,children:[Object(r.jsx)("p",{children:"Logout"}),Object(r.jsx)("img",{src:Y,alt:"logoutIcon"})]})]})})}):Object(r.jsxs)("nav",{className:de.a.nav,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(oe,{path:"/inventory",image:K,alt:"inventoryIcon",children:"Inventory"}),Object(r.jsx)(oe,{path:"/history",image:L,alt:"historyIcon",children:"History"})]}),Object(r.jsxs)("div",{onClick:function(){n()},className:de.a.logout,children:[Object(r.jsx)("p",{children:"Logout"}),Object(r.jsx)("img",{src:Y,alt:"logoutIcon"})]})]})})}var le=c.a.createContext();function je(){var e=Object(a.useState)({userId:null,username:null,isUserLoggedIn:!1,dataArrived:!1}),t=Object(l.a)(e,2),n=t[0],c=t[1],s=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.post("user/verify/",{token:localStorage.getItem("auth-token")});case 3:200===(t=e.sent).status&&(localStorage.setItem("auth-token",t.data.token),_.defaults.headers["auth-token"]=t.data.token,n=t.data,r=n.userId,a=n.username,c({userId:r,username:a,isUserLoggedIn:!0,dataArrived:!0})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),localStorage.removeItem("auth-token"),c({userId:null,username:null,isUserLoggedIn:!1,dataArrived:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o={userData:n,authenticateUser:s};return Object(a.useEffect)((function(){s()}),[]),Object(r.jsx)(le.Provider,{value:o,children:n.dataArrived?Object(r.jsxs)(r.Fragment,{children:[n.isUserLoggedIn?Object(r.jsx)(ue,{}):null,Object(r.jsxs)(j.d,{children:[Object(r.jsx)(ne,{exact:!0,path:"/auth"}),Object(r.jsx)(E,{exact:!0,path:"/inventory",component:Object(r.jsx)(U,{})}),Object(r.jsx)(E,{exact:!0,path:"/history",component:Object(r.jsx)(Q,{})}),Object(r.jsx)(j.b,{path:"/",render:function(){return Object(r.jsx)(j.a,{exact:!0,to:"/auth"})}})]})]}):"Loading"})}n(269);var he=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(je,{})})},me=n(31);o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(me.a,{children:Object(r.jsx)(he,{})})}),document.getElementById("root"))},29:function(e,t,n){e.exports={productContianer:"InventoryItem_productContianer__jw12h",serialNumber:"InventoryItem_serialNumber__22-W4",quantity:"InventoryItem_quantity__3stli",add:"InventoryItem_add__26mzS",subtract:"InventoryItem_subtract__1VY-2",delete:"InventoryItem_delete__3phWc"}},30:function(e,t,n){e.exports={container:"Inventory_container__24518",headingContainer:"Inventory_headingContainer__2cypD",buttons:"Inventory_buttons__vCHZm",outerTable:"Inventory_outerTable__1_2tq",productsContainer:"Inventory_productsContainer__H7APS"}},39:function(e,t,n){e.exports={nav:"NavigationMenu_nav__-fnoQ",logout:"NavigationMenu_logout__2HF1H",burgerContainer:"NavigationMenu_burgerContainer__2W5Wz"}},52:function(e,t,n){e.exports={historyContainer:"History_historyContainer__3_Zug",heading:"History_heading__2-TNX",histories:"History_histories__1Z7hy"}},6:function(e,t,n){e.exports={form:"AuthenticationForm_form__15SQK",formGroup:"AuthenticationForm_formGroup__1MR8N",errorMsg:"AuthenticationForm_errorMsg__2aoFM"}},66:function(e,t,n){e.exports={historyItemContainer:"HistoryItem_historyItemContainer__1l7MV",icon:"HistoryItem_icon__2X8AS"}}},[[270,1,3]]]);
//# sourceMappingURL=main.b4212425.chunk.js.map